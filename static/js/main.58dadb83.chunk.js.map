{"version":3,"sources":["framework/i18n.js","framework/muiTheme.js","dataModel/periods.js","dataModel/dataStore.js","data/defaultBudget.js","dataModel/dataProvider.js","components/PeriodSelector.jsx","components/BudgetEntry.jsx","components/CategoryGroup.jsx","components/ResultsChart.jsx","components/App.jsx","index.jsx"],"names":["i18n","use","Backend","LanguageDetector","initReactI18next","init","whitelist","nonExplicitWhitelist","fallbackLng","backend","loadPath","debug","process","interpolation","escapeValue","higTheme","overrides","MuiAppBar","colorDefault","backgroundColor","borderBottom","MuiInput","underline","&:before","&:after","MuiMenuItem","root","minHeight","MuiExpansionPanelDetails","display","Periods","Object","freeze","daily","weekly","fortnightly","monthly","quarterly","annually","store","DataStore","classCallCheck","this","_data","_listeners","Map","type","object","forEach","element","handler","notify","console","assert","id","uuidv1","set","self","unSubscribe","delete","notifyEvent","item","entry","get","amount","period","categories","positive","entries","category","map","v","objectSpread","i18next","on","title","t","_ref","defaultBudget","loadedEntry","window","localStorage","getItem","JSON","parse","subscribe","e","setItem","stringify","summaryPeriod","parseInt","p","PeriodSelector","onChange","className","useTranslation","react_default","a","createElement","Select","value","event","target","MenuItem","defaultProps","BudgetEntry","_useState","useState","_useState2","slicedToArray","setAmount","_useState3","_useState4","setPeriod","useEffect","Container","Grid","container","spacing","xs","md","TextField","undefined","toString","isNaN","components_PeriodSelector","CategoryGroup","appPeriod","calcTotal","result","_ref2","reduce","total","val","setTotal","subscribers","data","unSub","ExpansionPanel","ExpansionPanelSummary","expandIcon","ExpandMore","Typography","Math","round","ExpansionPanelDetails","src_components_BudgetEntry","key","colours","ResultsChart","props","_this","possibleConstructorReturn","getPrototypeOf","call","state","budget","update","_this2","unSubStore","setState","labels","filter","canvas","document","getElementById","Chart","defaults","global","defaultFontFamily","defaultFontSize","chart","options","position","rotation","PI","legend","updateCanvas","incomings","outgoings","totalIncome","sum","_ref3","b","categoryTotals","_ref4","_ref5","totalOutgoing","datasets","i","length","borderWidth","isWidthUp","width","balance","floor","text","height","React","Component","withTranslation","withWidth","Header","Fragment","Hidden","smDown","variant","gutterBottom","newPeriod","ElevationScroll","children","trigger","useScrollTrigger","disableHysteresis","threshold","cloneElement","elevation","TopAppBar","AppBar","color","Toolbar","App","_useState5","_useState6","mainPeriod","setMainPeriod","catElements","src_components_CategoryGroup","App_TopAppBar","App_Header","defaultExpanded","components_ResultsChart","Button","onClick","resetBudget","appWrapper","ThemeProvider","theme","createMuiTheme","muiTheme","CssBaseline","Suspense","fallback","src_components_App","ReactDOM","render"],"mappings":"0QAKAA,IACEC,IAAIC,KACJD,IAAIE,KACJF,IAAIG,KACJC,KAAK,CACLC,UAAW,CAAC,QAAS,MACrBC,sBAAsB,EACtBC,YAAa,CAAC,MACdC,QAAS,CACRC,SAAU,wCAEXC,OAAOC,EACPC,cAAe,CACdC,aAAa,KAIDd,EAAf,EAAeA,ICYAe,EAlCE,CAChBC,UAAW,CACVC,UAAW,CACVC,aAAc,CACbC,gBAAiB,UACjBC,aAAc,8BAIhBC,SAAU,CACTC,UAAW,CACVC,WAAY,CACXH,aAAc,QAEfI,UAAW,CACVJ,aAAc,UAKjBK,YAAa,CACZC,KAAM,CACLC,UAAW,SAIbC,yBAA0B,CACzBF,KAAM,CACLG,QAAS,6CCnBEC,EATCC,OAAOC,OAAO,CAC7BC,MAAO,IACPC,OAAQ,GACRC,YAAa,GACbC,QAAS,GACTC,UAAW,EACXC,SAAU,ICwEIC,EADD,eAvEb,SAAAC,IAAeT,OAAAU,EAAA,EAAAV,CAAAW,KAAAF,GACdE,KAAKC,MAAQ,GACbD,KAAKE,WAAa,IAAIC,uDAIhBC,EAAMC,GACZL,KAAKE,WAAWI,QAAQ,SAAAC,GAClBA,EAAQH,MACZG,EAAQC,QAAQJ,EAAMC,yCAMbD,EAAMC,GACjBL,KAAKE,WAAWI,QAAQ,SAAAC,GACnBA,EAAQH,OAASA,GACpBG,EAAQC,QAAQH,KAIlBL,KAAKS,OAAOL,EAAMC,qCAITD,EAAMI,GAEf,GADAE,QAAQC,OAA0B,oBAAZH,GACC,oBAAZA,EAAX,CAIA,IAAII,EAAKC,MACTb,KAAKE,WAAWY,IAAIF,EAAI,CAAEJ,QAASA,EAASJ,KAAMA,IAElD,IAAIW,EAAOf,KACX,OAAO,WACNe,EAAKC,YAAYJ,yCAKPA,GACXZ,KAAKE,WAAWe,OAAOL,+BAIpBR,GACH,OAAOA,EAAOJ,KAAKC,MAAMG,GAAQJ,KAAKC,kCAInCG,EAAMC,GACTL,KAAKC,MAAMG,GAAQC,EACnBL,KAAKkB,YAAYd,EAAMC,yCAIvB,IAAK,IAAIc,KAAQnB,KAAKC,MACrB,GAAa,WAATkB,GAA8B,mBAATA,EAA2B,CACnD,IAAMC,EAAQpB,KAAKqB,IAAIF,GACvBC,EAAME,OAAS,EACfF,EAAMG,OAASnC,EAAQM,QACvBM,KAAKc,IAAIK,EAAMC,GAIjBpB,KAAKc,IAAI,iBAAkB1B,EAAQQ,4BCrEjC4B,EAAa,CAChB,CACCZ,GAAI,SACJa,UAAU,EACVC,QAAS,CACR,CAAEd,GAAI,wBACN,CAAEA,GAAI,gCACN,CAAEA,GAAI,sBACN,CAAEA,GAAI,qCACN,CAAEA,GAAI,uBACN,CAAEA,GAAI,2BACN,CAAEA,GAAI,0BACN,CAAEA,GAAI,WAGR,CACCA,GAAI,mBACJc,QAAS,CACR,CAAEd,GAAI,mBACN,CAAEA,GAAI,uBACN,CAAEA,GAAI,iBACN,CAAEA,GAAI,0BACN,CAAEA,GAAI,6BACN,CAAEA,GAAI,eACN,CAAEA,GAAI,OACN,CAAEA,GAAI,SACN,CAAEA,GAAI,YACN,CAAEA,GAAI,UACN,CAAEA,GAAI,cACN,CAAEA,GAAI,UACN,CAAEA,GAAI,WAGR,CACCA,GAAI,wBACJc,QAAS,CACR,CAAEd,GAAI,iBACN,CAAEA,GAAI,6BACN,CAAEA,GAAI,6BACN,CAAEA,GAAI,oBACN,CAAEA,GAAI,YACN,CAAEA,GAAI,wBACN,CAAEA,GAAI,eACN,CAAEA,GAAI,mBACN,CAAEA,GAAI,WACN,CAAEA,GAAI,qCACN,CAAEA,GAAI,qBACN,CAAEA,GAAI,WAGR,CACCA,GAAI,YACJc,QAAS,CACR,CAAEd,GAAI,eACN,CAAEA,GAAI,WACN,CAAEA,GAAI,sBACN,CAAEA,GAAI,aACN,CAAEA,GAAI,iBACN,CAAEA,GAAI,YACN,CAAEA,GAAI,WAGR,CACCA,GAAI,qBACJc,QAAS,CACR,CAAEd,GAAI,0BACN,CAAEA,GAAI,iBACN,CAAEA,GAAI,wBACN,CAAEA,GAAI,sBACN,CAAEA,GAAI,UACN,CAAEA,GAAI,qBACN,CAAEA,GAAI,WACN,CAAEA,GAAI,oBACN,CAAEA,GAAI,2BACN,CAAEA,GAAI,uBACN,CAAEA,GAAI,gBACN,CAAEA,GAAI,aACN,CAAEA,GAAI,kBACN,CAAEA,GAAI,WAGR,CACCA,GAAI,4BACJc,QAAS,CACR,CAAEd,GAAI,gBACN,CAAEA,GAAI,oBACN,CAAEA,GAAI,wBACN,CAAEA,GAAI,cACN,CAAEA,GAAI,oBACN,CAAEA,GAAI,gBACN,CAAEA,GAAI,eACN,CAAEA,GAAI,SACN,CAAEA,GAAI,yBACN,CAAEA,GAAI,kBACN,CAAEA,GAAI,YACN,CAAEA,GAAI,wBACN,CAAEA,GAAI,WAGR,CACCA,GAAI,mBACJc,QAAS,CACR,CAAEd,GAAI,uBACN,CAAEA,GAAI,UACN,CAAEA,GAAI,wBACN,CAAEA,GAAI,kBACN,CAAEA,GAAI,yBACN,CAAEA,GAAI,SACN,CAAEA,GAAI,YACN,CAAEA,GAAI,WAGR,CACCA,GAAI,WACJc,QAAS,CACR,CAAEd,GAAI,iBACN,CAAEA,GAAI,QACN,CAAEA,GAAI,eACN,CAAEA,GAAI,aACN,CAAEA,GAAI,uBACN,CAAEA,GAAI,eACN,CAAEA,GAAI,cACN,CAAEA,GAAI,mBACN,CAAEA,GAAI,sBACN,CAAEA,GAAI,yBACN,CAAEA,GAAI,YAMTY,EAAWlB,QAAQ,SAAAqB,GAClBA,EAASD,QAAUC,EAASD,QAAQE,IAAI,SAAAC,GACvC,OAAOxC,OAAAyC,EAAA,EAAAzC,CAAA,GAAKwC,EAAZ,CAAeP,OAAQ,EAAGC,OAAQnC,EAAQM,cAK5CqC,IAAQC,GAAG,cAAe,WACzBR,EAAWlB,QAAQ,SAAAqB,GAClBA,EAASM,MAAQF,IAAQG,EAAEP,EAASf,IAEpCe,EAASD,QAAQE,IAAI,SAAAO,GAAY,IAATvB,EAASuB,EAATvB,GACZf,EAAMwB,IAAIM,EAASf,GAAKA,GAC9BqB,MAAQF,IAAQG,EAAEtB,SAKXY,QCpJf3B,EAAMiB,IAAI,SAAUsB,GACpBA,EAAc9B,QAAQ,SAAAqB,GACrBA,EAASD,QAAQpB,QAAQ,SAAAc,GACxB,IAAMR,EAAKe,EAASf,GAAKQ,EAAMR,GAC3ByB,EAAcC,OAAOC,aAAaC,QAAQ5B,GAC1CyB,IACHA,EAAcI,KAAKC,MAAML,GACzBjB,EAAME,OAASe,EAAYf,OAC3BF,EAAMG,OAASc,EAAYd,QAG5B1B,EAAMiB,IAAIF,EAAIQ,GACdvB,EAAM8C,UAAU/B,EAAI,SAACgC,GAAD,OAAON,OAAOC,aAAaM,QAAQjC,EAAI6B,KAAKK,UAAUF,UAI5E,IAAIG,EAAgBT,OAAOC,aAAaC,QAAQ,mBAAqBpD,EAAQQ,SAC7EmD,EAAgBC,SAASD,EAAe,IACxClD,EAAMiB,IAAI,iBAAkBiC,GAC5BlD,EAAM8C,UAAU,iBAAkB,SAACM,GAAD,OAAOX,OAAOC,aAAaM,QAAQ,iBAAkBI,6HClBjFC,EAAiB,SAAAf,GAAqC,IAAlCZ,EAAkCY,EAAlCZ,OAAQ4B,EAA0BhB,EAA1BgB,SAAUC,EAAgBjB,EAAhBiB,UACnClB,EAAMmB,cAANnB,EAER,OACCoB,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAQL,UAAWA,EAAWM,MAAOnC,EAAQ4B,SAAU,SAAAQ,GAAK,OAAIR,EAASQ,EAAMC,OAAOF,SACrFJ,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQG,OAAQ2C,EAAE,iBACnCoB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQI,QAAS0C,EAAE,kBACpCoB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQK,aAAcyC,EAAE,uBACzCoB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQM,SAAUwC,EAAE,mBACrCoB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQO,WAAYuC,EAAE,qBACvCoB,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUH,MAAOtE,EAAQQ,UAAWsC,EAAE,sBAWzCgB,EAAeY,aAAe,CAC7BX,SAAU,cAGID,4CC8BAa,UAtDK,SAAA5B,GAAY,IAATvB,EAASuB,EAATvB,GAChBQ,EAAQvB,EAAMwB,IAAIT,GADOoD,EAEHC,mBAAS7C,EAAME,QAFZ4C,EAAA7E,OAAA8E,EAAA,EAAA9E,CAAA2E,EAAA,GAExB1C,EAFwB4C,EAAA,GAEhBE,EAFgBF,EAAA,GAAAG,EAGHJ,mBAAS7C,EAAMG,QAHZ+C,EAAAjF,OAAA8E,EAAA,EAAA9E,CAAAgF,EAAA,GAGxB9C,EAHwB+C,EAAA,GAGhBC,EAHgBD,EAAA,GAK/BE,oBAAU,kBAAM3E,EAAM8C,UAAU/B,EAAI,SAAAgC,GACnCwB,EAAUxB,EAAEtB,QACZiD,EAAU3B,EAAErB,YAmBb,OACC+B,EAAAC,EAAAC,cAACiB,EAAA,EAAD,KACCnB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,0BACdE,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,GACxBtB,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAMvD,MAAI,EAAC0D,GAAI,GAAIC,GAAI,GAAI1D,EAAMa,OACjCqB,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAMvD,MAAI,EAAC0D,GAAI,EAAGC,GAAI,GAErBxB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,sBACdE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACC3B,UAAU,qBACVM,MAAOpC,EACP6B,SA3Be,SAACQ,GAAU,IAC1BD,EAAUC,EAAMC,OAAhBF,WAEQsB,KADdtB,EAAQV,SAASU,EAAMuB,WAAY,MACPC,MAAMxB,KACjCU,EAAUV,GACVtC,EAAME,OAASoC,EACf7D,EAAMiB,IAAIF,EAAIQ,SAyBZkC,EAAAC,EAAAC,cAACkB,EAAA,EAAD,CAAMvD,MAAI,EAAC0D,GAAI,EAAGC,GAAI,GACrBxB,EAAAC,EAAAC,cAAC2B,EAAD,CAAgB/B,UAAU,yCAAyC7B,OAAQA,EAAQ4B,SAtBlE,SAACF,GACtBsB,EAAUtB,GACV7B,EAAMG,OAAS0B,EACfpD,EAAMiB,IAAIF,EAAIQ,YCfVgE,EAAgB,SAAAjD,GAAiD,IAA9CvB,EAA8CuB,EAA9CvB,GAAIqB,EAA0CE,EAA1CF,MAAOP,EAAmCS,EAAnCT,QAASD,EAA0BU,EAA1BV,SAAU4D,EAAgBlD,EAAhBkD,UAChDC,EAAY,WACjB,IAAIC,EAAS7D,EAAQE,IAAI,SAAA4D,GAAA,OAAAA,EAAGlE,OAAHkE,EAAWjE,SAEpC,OADAgE,EAASA,EAAOE,OAAO,SAACC,EAAOC,GAAR,OAAgBD,EAAQC,KAHsB3B,EAO5CC,mBAASqB,KAPmCpB,EAAA7E,OAAA8E,EAAA,EAAA9E,CAAA2E,EAAA,GAO/D0B,EAP+DxB,EAAA,GAOxD0B,EAPwD1B,EAAA,GAUtEM,oBAAU,WACT,IAAMqB,EAAcnE,EAAQE,IAAI,SAAAR,GAC/B,OAAOvB,EAAM8C,UAAU/B,EAAKQ,EAAMR,GAAI,SAAAkF,GACrCF,EAASN,SAIX,OAAO,WACNO,EAAYvF,QAAQ,SAAAyF,GAAK,OAAIA,SAlBuC,IAsB9D7D,EAAMmB,cAANnB,EAER,OACCoB,EAAAC,EAAAC,cAACwC,EAAA,EAAD,KACC1C,EAAAC,EAAAC,cAACyC,EAAA,EAAD,CAAuBC,WAAY5C,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,OAClC7C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAYhD,UAAU,wBAAwBnB,GAC9CqB,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAYhD,UAAU,+BAA+B3B,EAAW,GAAK,KAAOS,EAAE,kBAAmBmE,KAAKC,MAAOZ,EAAQL,KAGtH/B,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,KACG7E,EAAQE,IAAI,SAAAR,GAAK,OAAIkC,EAAAC,EAAAC,cAACgD,EAAD,CAAa5F,GAAIA,EAAKQ,EAAMR,GAAI6F,IAAK7F,EAAKQ,EAAMR,UAc3EwE,EAActB,aAAe,CAC5BrC,UAAU,GAGI2D,0DCzDTsB,EAAU,CACf,0BACA,0BACA,0BACA,0BACA,2BACA,0BACA,0BAGKC,eACL,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAxH,OAAAU,EAAA,EAAAV,CAAAW,KAAA2G,IAClBE,EAAAxH,OAAAyH,EAAA,EAAAzH,CAAAW,KAAAX,OAAA0H,EAAA,EAAA1H,CAAAsH,GAAAK,KAAAhH,KAAM4G,KACDK,MAAQ,CACZC,OAAQL,EAAKD,MAAMM,OACnBC,OAAQ,GAJSN,mFAQC,IAAAO,EAAApH,KACnBA,KAAKqH,WAAaxH,EAAM8C,UAAU,KAAM,kBAAMyE,EAAKE,SAAS,CAAEH,OAAQC,EAAKH,MAAME,OAAS,MAE1F,IACMI,EADYvH,KAAKiH,MAAMC,OAAOM,OAAO,SAAApG,GAAK,OAAuB,IAAnBA,EAAMK,WACjCG,IAAI,SAAAO,GAAA,OAAAA,EAAGF,QAEhCjC,KAAKyH,OAASC,SAASC,eAAe,eACtCC,IAAMC,SAASC,OAAOC,kBAAoB,6CAC1CH,IAAMC,SAASC,OAAOE,gBAAkB,GACxChI,KAAKiI,MAAQ,IAAIL,IAAM5H,KAAKyH,OAAQ,CACnCrH,KAAM,MACN0F,KAAM,CACLyB,OAAQA,GAETW,QAAS,CACRjG,MAAO,CACN9C,SAAS,EACTgJ,SAAU,OAEXC,UAAW,GAAM/B,KAAKgC,GACtBC,OAAQ,CACPH,SAAU,WAKbnI,KAAKuI,8DAILvI,KAAKqH,0DAILrH,KAAKuI,sDAIL,IAAMC,EAAYxI,KAAKiH,MAAMC,OAAOM,OAAO,SAAApG,GAAK,OAAuB,IAAnBA,EAAMK,WACpDgH,EAAYzI,KAAKiH,MAAMC,OAAOM,OAAO,SAAApG,GAAK,OAAuB,IAAnBA,EAAMK,WAEtDiH,EAAcF,EAAU5G,IAAI,SAAA4D,GAAA,OAAAA,EAAG9D,QAAsB+D,OAAO,SAACkD,EAADC,GAAA,OAA6BD,EAA7BC,EAAQtH,OAARsH,EAAgBrH,QAAsC,KACtHmH,EAAcA,EAAYjD,OAAO,SAAClC,EAAGsF,GAAJ,OAAUtF,EAAIsF,IAE/C,IAAMC,EAAiBL,EAAU7G,IAAI,SAAAmH,GAAA,OAAAA,EAAGrH,QAAsB+D,OAAO,SAACkD,EAADK,GAAA,OAA6BL,EAA7BK,EAAQ1H,OAAR0H,EAAgBzH,QAAsC,KACrH0H,EAAgBH,EAAerD,OAAO,SAAClC,EAAGsF,GAAJ,OAAUtF,EAAIsF,IAE1D7I,KAAKiI,MAAMnC,KAAKoD,SAAW,CAAC,CAC3BpD,KAAMgD,EACNrK,gBAAiBgK,EAAU7G,IAAI,SAACC,EAAGsH,GAAJ,OAAUzC,EAAQyC,EAAIzC,EAAQ0C,UAC7DC,YAAa,CAAC,EAAG,KAGlBrJ,KAAKiI,MAAMC,QAAQI,OAAOnJ,QAAUmK,YAAU,KAAMtJ,KAAK4G,MAAM2C,OAE/D,IAAIC,EAAUd,EAAcO,EAC5BO,GAAWxJ,KAAK4G,MAAMrF,OACtBiI,EAAUnD,KAAKoD,MAAMD,GAEpBxJ,KAAKiI,MAAMC,QAAQjG,MAAMyH,KADtBF,EAAU,EACmBxJ,KAAK4G,MAAM1E,EAAE,kBAAmB,CAAEsH,YAElCxJ,KAAK4G,MAAM1E,EAAE,kBAAmB,CAAEsH,YAGnExJ,KAAKiI,MAAMd,0CAIX,OAAO7D,EAAAC,EAAAC,cAAA,UAAQ5C,GAAG,cAAc2I,MAAO,IAAKI,OAAQ,aA7E3BC,IAAMC,WAwFlBC,iBAAkBC,cAAYpD,KCrFvCqD,WAAS,WAAM,IACZ9H,EAAMmB,cAANnB,EADY8B,EAEQC,mBAASpE,EAAMwB,IAAI,mBAF3B6C,EAAA7E,OAAA8E,EAAA,EAAA9E,CAAA2E,EAAA,GAEbzC,EAFa2C,EAAA,GAELK,EAFKL,EAAA,GAKpB,OAFArE,EAAM8C,UAAU,iBAAkB,SAACM,GAAD,OAAOsB,EAAUtB,KAGlDK,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0G,SAAA,KACC3G,EAAAC,EAAAC,cAAC0G,EAAA,EAAD,CAAQC,QAAM,GACb7G,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAYgE,QAAQ,YAAYC,cAAY,GAAEnI,EAAE,eAEjDoB,EAAAC,EAAAC,cAAA,OAAKJ,UAAU,eACdE,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,KACClE,EAAE,WADH,OAECoB,EAAAC,EAAAC,cAAC2B,EAAD,CAAgB5D,OAAQA,EAAQ4B,SAAU,SAAAmH,GAAS,OAAIzK,EAAMiB,IAAI,iBAAkBwJ,WAOxF,SAASC,GAAgB3D,GAAO,IACvB4D,EAAa5D,EAAb4D,SACFC,EAAUC,YAAiB,CAChCC,mBAAmB,EACnBC,UAAW,IAGZ,OAAOhB,IAAMiB,aAAaL,EAAU,CACnCM,UAAWL,EAAU,EAAI,IAQ3B,IAAMM,GAAY,SAACnE,GAAU,IACpB1E,EAAMmB,cAANnB,EACR,OACCoB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0G,SAAA,KACC3G,EAAAC,EAAAC,cAAC+G,GAAoB3D,EACpBtD,EAAAC,EAAAC,cAACwH,EAAA,EAAD,CAAQC,MAAM,WACb3H,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,KACC5H,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,CAAYgE,QAAQ,KAAKa,MAAM,WAC7B/I,EAAE,sBAKPoB,EAAAC,EAAAC,cAAC0H,EAAA,EAAD,QAkDYC,GA7CH,WAAM,IACTjJ,EAAMmB,cAANnB,EADSmC,EAEAJ,mBAASpE,EAAMwB,IAAI,WAA7B6F,EAFU7H,OAAA8E,EAAA,EAAA9E,CAAAgF,EAAA,MAAA+G,EAImBnH,mBAASpE,EAAMwB,IAAI,mBAJtCgK,EAAAhM,OAAA8E,EAAA,EAAA9E,CAAA+L,EAAA,GAIVE,EAJUD,EAAA,GAIEE,EAJFF,EAAA,GAKjBxL,EAAM8C,UAAU,iBAAkB,SAACM,GAAD,OAAOsI,EAActI,KAEvD,IAAMuI,EAActE,GAAUA,EAAOtF,IAAI,SAAAD,GAAQ,OAChD2B,EAAAC,EAAAC,cAACiI,EAAD,CACC7K,GAAIe,EAASf,GACbqB,MAAON,EAASM,MAChBP,QAASC,EAASD,QAClBD,SAAUE,EAASF,SACnBgF,IAAK9E,EAASf,GACdyE,UAAWiG,MAIb,OACChI,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0G,SAAA,KACC3G,EAAAC,EAAAC,cAACkI,GAAD,MACApI,EAAAC,EAAAC,cAACmI,GAAD,MACCH,EAEDlI,EAAAC,EAAAC,cAACwC,EAAA,EAAD,CAAgB4F,iBAAe,GAC9BtI,EAAAC,EAAAC,cAACyC,EAAA,EAAD,CAAuBC,WAAY5C,EAAAC,EAAAC,cAAC2C,EAAA,EAAD,OAClC7C,EAAAC,EAAAC,cAAC4C,EAAA,EAAD,KAAclE,EAAE,aAEjBoB,EAAAC,EAAAC,cAAC+C,EAAA,EAAD,KACCjD,EAAAC,EAAAC,cAAA,OAAK+F,MAAO,IAAKI,OAAQ,KACxBrG,EAAAC,EAAAC,cAACqI,GAAD,CAAc3E,OAAQA,EAAQ3F,OAAQ+J,KAEvChI,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEtB,EAAE,gBADJ,OAECoB,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CAAQC,QAAS,kBAAMlM,EAAMmM,eAAe5B,QAAQ,aAClDlI,EAAE,eCrGJ+J,GACL3I,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAeC,MAAOC,YAAeC,IACpC/I,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,MACAhJ,EAAAC,EAAAC,cAACF,EAAAC,EAAMgJ,SAAP,CAAgBC,SAAUlJ,EAAAC,EAAAC,cAAA,yBACzBF,EAAAC,EAAAC,cAACiJ,GAAD,QAIHC,IAASC,OAAOV,GAAYvE,SAASC,eAAe","file":"static/js/main.58dadb83.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\n\ni18n\n\t.use(Backend)\n\t.use(LanguageDetector)\n\t.use(initReactI18next)\n\t.init({\n\t\twhitelist: ['en-US', 'en'],\n\t\tnonExplicitWhitelist: true,\n\t\tfallbackLng: ['en'],\n\t\tbackend: {\n\t\t\tloadPath: 'resources/locale/{{lng}}/{{ns}}.json',\n\t\t},\n\t\tdebug: process.env.NODE_ENV === 'development',\n\t\tinterpolation: {\n\t\t\tescapeValue: false, // not needed for react as it escapes by default\n\t\t},\n\t});\n\nexport default i18n;\n","const higTheme = {\n\toverrides: {\n\t\tMuiAppBar: {\n\t\t\tcolorDefault: {\n\t\t\t\tbackgroundColor: '#fafafa',\n\t\t\t\tborderBottom: '1px rgba(0,0,0,0.2) solid',\n\t\t\t}\n\t\t},\n\n\t\tMuiInput: {\n\t\t\tunderline: {\n\t\t\t\t'&:before': {\n\t\t\t\t\tborderBottom: 'none',\n\t\t\t\t},\n\t\t\t\t'&:after': {\n\t\t\t\t\tborderBottom: 'none',\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tMuiMenuItem: {\n\t\t\troot: {\n\t\t\t\tminHeight: '24px',\n\t\t\t},\n\t\t},\n\n\t\tMuiExpansionPanelDetails: {\n\t\t\troot: {\n\t\t\t\tdisplay: 'unset',\n\t\t\t}\n\t\t},\n\t},\n};\n\nexport default higTheme;\n","const Periods = Object.freeze({\n\tdaily: 365,\n\tweekly: 52,\n\tfortnightly: 26,\n\tmonthly: 12,\n\tquarterly: 4,\n\tannually: 1,\n});\n\nexport default Periods;\n","/* A light weight, transient (i.e. none persistent), data store object with eventing (notifications) */\n\nimport uuidv1 from 'uuid';\nimport Periods from './periods';\n\nclass DataStore {\n\tconstructor() {\n\t\tthis._data = {};\n\t\tthis._listeners = new Map();\n\t}\n\n\t// notifies anything that's subscribed events on this store that 'something' (generic) has happened\n\tnotify(type, object) {\n\t\tthis._listeners.forEach(element => {\n\t\t\tif (!element.type) {\n\t\t\t\telement.handler(type, object);\n\t\t\t}\n\t\t});\n\t}\n\n\t// notifies anything that's subscribed to a change event of 'type' of that event happening, or anything that's subscribe to all events\n\tnotifyEvent(type, object) {\n\t\tthis._listeners.forEach(element => {\n\t\t\tif (element.type === type) {\n\t\t\t\telement.handler(object);\n\t\t\t}\n\t\t});\n\n\t\tthis.notify(type, object);\n\t}\n\n\t// subscribe to change notifications from this store; returns a function that can be used to un-subscribe. Use type to specialise notification types\n\tsubscribe(type, handler) {\n\t\tconsole.assert(typeof handler === 'function'); // we must have a function to call\n\t\tif (typeof handler !== 'function') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet id = uuidv1();\n\t\tthis._listeners.set(id, { handler: handler, type: type });\n\n\t\tlet self = this;\n\t\treturn function () {\n\t\t\tself.unSubscribe(id);\n\t\t};\n\t}\n\n\t// un-subscribes from change notifications form this store. NB: we recommend you store the function from `subscribe` and call it when you wish to un-subscribe instead of calling this directly\n\tunSubscribe(id) {\n\t\tthis._listeners.delete(id);\n\t}\n\n\t// Gets the data of type 'type' in this store; if 'type' is not supplied, the whole data store is returned\n\tget(type) {\n\t\treturn type ? this._data[type] : this._data;\n\t}\n\n\t// Sets the data object as type 'type', replaces any existing object of type 'type'\n\tset(type, object) {\n\t\tthis._data[type] = object;\n\t\tthis.notifyEvent(type, object);\n\t}\n\n\tresetBudget() {\n\t\tfor (let item in this._data) {\n\t\t\tif (item !== 'budget' && item !== 'summary-period') {\n\t\t\t\tconst entry = this.get(item);\n\t\t\t\tentry.amount = 0;\n\t\t\t\tentry.period = Periods.monthly;\n\t\t\t\tthis.set(item, entry);\n\t\t\t}\n\t\t}\n\n\t\tthis.set('summary-period', Periods.annually);\n\t}\n}\n\nconst store = new DataStore();\nexport default store;\n","import i18next from 'i18next';\nimport Periods from '../dataModel/periods';\nimport store from '../dataModel/dataStore';\n\nlet categories = [\n\t{\n\t\tid: 'Income',\n\t\tpositive: true,\n\t\tentries: [\n\t\t\t{ id: 'Your take - home pay' },\n\t\t\t{ id: 'Your partner\\'s take-home pay' },\n\t\t\t{ id: 'Bonuses & overtime' },\n\t\t\t{ id: 'Income from savings & investments' },\n\t\t\t{ id: 'Centrelink benefits' },\n\t\t\t{ id: 'Family benefit payments' },\n\t\t\t{ id: 'Child support received' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Home & utilities',\n\t\tentries: [\n\t\t\t{ id: 'Mortgage & rent' },\n\t\t\t{ id: 'Body corporate fees' },\n\t\t\t{ id: 'Council rates' },\n\t\t\t{ id: 'Furniture & appliances' },\n\t\t\t{ id: 'Renovations & maintenance' },\n\t\t\t{ id: 'Electricity' },\n\t\t\t{ id: 'Gas' },\n\t\t\t{ id: 'Water' },\n\t\t\t{ id: 'Internet' },\n\t\t\t{ id: 'Pay TV' },\n\t\t\t{ id: 'Home phone' },\n\t\t\t{ id: 'Mobile' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Insurance & financial',\n\t\tentries: [\n\t\t\t{ id: 'Car insurance' },\n\t\t\t{ id: 'Home & contents insurance' },\n\t\t\t{ id: 'Personal & life insurance' },\n\t\t\t{ id: 'Health insurance' },\n\t\t\t{ id: 'Car loan' },\n\t\t\t{ id: 'Credit card interest' },\n\t\t\t{ id: 'Other loans' },\n\t\t\t{ id: 'Paying off debt' },\n\t\t\t{ id: 'Savings' },\n\t\t\t{ id: 'Investments & super contributions' },\n\t\t\t{ id: 'Charity donations' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Groceries',\n\t\tentries: [\n\t\t\t{ id: 'Supermarket' },\n\t\t\t{ id: 'Butcher' },\n\t\t\t{ id: 'Fruit & veg market' },\n\t\t\t{ id: 'Fish shop' },\n\t\t\t{ id: 'Deli & bakery' },\n\t\t\t{ id: 'Pet food' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Personal & medical',\n\t\tentries: [\n\t\t\t{ id: 'Cosmetics & toiletries' },\n\t\t\t{ id: 'Hair & beauty' },\n\t\t\t{ id: 'Medicines & pharmacy' },\n\t\t\t{ id: 'Glasses & eye care' },\n\t\t\t{ id: 'Dental' },\n\t\t\t{ id: 'Doctors & medical' },\n\t\t\t{ id: 'Hobbies' },\n\t\t\t{ id: 'Clothing & shoes' },\n\t\t\t{ id: 'Jewellery & accessories' },\n\t\t\t{ id: 'Computers & gadgets' },\n\t\t\t{ id: 'Sports & gym' },\n\t\t\t{ id: 'Education' },\n\t\t\t{ id: 'Pet care & vet' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Entertainment & eat - out',\n\t\tentries: [\n\t\t\t{ id: 'Coffee & tea' },\n\t\t\t{ id: 'Lunches - bought' },\n\t\t\t{ id: 'Take - away & snacks' },\n\t\t\t{ id: 'Cigarettes' },\n\t\t\t{ id: 'Drinks & alcohol' },\n\t\t\t{ id: 'Bars & clubs' },\n\t\t\t{ id: 'Restaurants' },\n\t\t\t{ id: 'Books' },\n\t\t\t{ id: 'Newspaper & magazines' },\n\t\t\t{ id: 'Movies & music' },\n\t\t\t{ id: 'Holidays' },\n\t\t\t{ id: 'Celebrations & gifts' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Transport & auto',\n\t\tentries: [\n\t\t\t{ id: 'Bus & train & ferry' },\n\t\t\t{ id: 'Petrol' },\n\t\t\t{ id: 'Road tolls & parking' },\n\t\t\t{ id: 'Rego & licence' },\n\t\t\t{ id: 'Repairs & maintenance' },\n\t\t\t{ id: 'Fines' },\n\t\t\t{ id: 'Airfares' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n\t{\n\t\tid: 'Children',\n\t\tentries: [\n\t\t\t{ id: 'Baby products' },\n\t\t\t{ id: 'Toys' },\n\t\t\t{ id: 'Babysitting' },\n\t\t\t{ id: 'Childcare' },\n\t\t\t{ id: 'Sports & activities' },\n\t\t\t{ id: 'School fees' },\n\t\t\t{ id: 'Excursions' },\n\t\t\t{ id: 'School uniforms' },\n\t\t\t{ id: 'Other school needs' },\n\t\t\t{ id: 'Child support payment' },\n\t\t\t{ id: 'Other' },\n\t\t],\n\t},\n];\n\n// add a default amount & period to each item\ncategories.forEach(category => {\n\tcategory.entries = category.entries.map(v => {\n\t\treturn { ...v, amount: 0, period: Periods.monthly };\n\t});\n});\n\n// when i18next is available, apply the localised string title\ni18next.on('initialized', () => {\n\tcategories.forEach(category => {\n\t\tcategory.title = i18next.t(category.id);\n\t\t// array-callback-return disables, we're not using the product of the callback\n\t\tcategory.entries.map(({ id }) => { // eslint-disable-line array-callback-return\n\t\t\tlet item = store.get(category.id + id);\n\t\t\titem.title = i18next.t(id);\n\t\t});\n\t});\n});\n\nexport default categories;\n","// Data provider\nimport store from './dataStore';\nimport defaultBudget from '../data/defaultBudget';\nimport Periods from './periods';\n\nstore.set('budget', defaultBudget);\ndefaultBudget.forEach(category => {\n\tcategory.entries.forEach(entry => {\n\t\tconst id = category.id + entry.id;\n\t\tlet loadedEntry = window.localStorage.getItem(id);\n\t\tif (loadedEntry) {\n\t\t\tloadedEntry = JSON.parse(loadedEntry);\n\t\t\tentry.amount = loadedEntry.amount;\n\t\t\tentry.period = loadedEntry.period;\n\t\t}\n\n\t\tstore.set(id, entry);\n\t\tstore.subscribe(id, (e) => window.localStorage.setItem(id, JSON.stringify(e)));\n\t});\n});\n\nlet summaryPeriod = window.localStorage.getItem('summary-period') || Periods.annually;\nsummaryPeriod = parseInt(summaryPeriod, 10);\nstore.set('summary-period', summaryPeriod);\nstore.subscribe('summary-period', (p) => window.localStorage.setItem('summary-period', p));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { MenuItem, Select } from '@material-ui/core';\nimport Periods from '../dataModel/periods';\n\nconst PeriodSelector = ({ period, onChange, className }) => {\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<Select className={className} value={period} onChange={event => onChange(event.target.value)}>\n\t\t\t<MenuItem value={Periods.daily}>{t('period.daily')}</MenuItem>\n\t\t\t<MenuItem value={Periods.weekly}>{t('period.weekly')}</MenuItem>\n\t\t\t<MenuItem value={Periods.fortnightly}>{t('period.fortnightly')}</MenuItem>\n\t\t\t<MenuItem value={Periods.monthly}>{t('period.monthly')}</MenuItem>\n\t\t\t<MenuItem value={Periods.quarterly}>{t('period.quarterly')}</MenuItem>\n\t\t\t<MenuItem value={Periods.annually}>{t('period.annually')}</MenuItem>\n\t\t</Select>\n\t);\n};\n\nPeriodSelector.propTypes = {\n\tperiod: PropTypes.oneOf(Object.values(Periods)).isRequired,\n\tonChange: PropTypes.func,\n\tclassName: PropTypes.string,\n};\n\nPeriodSelector.defaultProps = {\n\tonChange: () => { }, // no op\n};\n\nexport default PeriodSelector;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Grid, TextField } from '@material-ui/core';\nimport PeriodSelector from './PeriodSelector';\nimport './BudgetEntry.css';\nimport store from '../dataModel/dataStore';\n\nconst BudgetEntry = ({ id }) => {\n\tconst entry = store.get(id);\n\tconst [amount, setAmount] = useState(entry.amount);\n\tconst [period, setPeriod] = useState(entry.period);\n\n\tuseEffect(() => store.subscribe(id, e => {\n\t\tsetAmount(e.amount);\n\t\tsetPeriod(e.period);\n\t}));\n\n\tconst amountChanged = (event) => {\n\t\tlet { value } = event.target;\n\t\tvalue = parseInt(value.toString(), 10);\n\t\tif (value !== undefined && !isNaN(value)) {\n\t\t\tsetAmount(value);\n\t\t\tentry.amount = value;\n\t\t\tstore.set(id, entry);\n\t\t}\n\t};\n\n\tconst periodChanged = (p) => {\n\t\tsetPeriod(p);\n\t\tentry.period = p;\n\t\tstore.set(id, entry);\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<div className=\"budget-entry-container\">\n\t\t\t\t<Grid container spacing={4}>\n\t\t\t\t\t<Grid item xs={12} md={6}>{entry.title}</Grid>\n\t\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t\t{/* Only allows positive integers */}\n\t\t\t\t\t\t<div className=\"budget-entry-input\">\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName=\"budget-entry-entry\"\n\t\t\t\t\t\t\t\tvalue={amount}\n\t\t\t\t\t\t\t\tonChange={amountChanged}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={6} md={3}>\n\t\t\t\t\t\t<PeriodSelector className=\"budget-entry-period budget-entry-input\" period={period} onChange={periodChanged} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</Container>\n\t);\n};\n\nBudgetEntry.propTypes = {\n\tid: PropTypes.string.isRequired,\n};\n\nexport default BudgetEntry;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport {\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tTypography,\n} from '@material-ui/core';\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\nimport './CategoryGroup.css';\nimport BudgetEntry from './BudgetEntry';\nimport store from '../dataModel/dataStore';\nimport Periods from '../dataModel/periods';\n\nconst CategoryGroup = ({ id, title, entries, positive, appPeriod }) => {\n\tconst calcTotal = () => {\n\t\tlet result = entries.map(({ amount, period }) => amount * period); // entries as annuals\n\t\tresult = result.reduce((total, val) => total + val );\n\t\treturn result;\n\t};\n\n\tconst [total, setTotal] = useState(calcTotal());\n\n\t// subscribe to changes to the entry so we can update the total\n\tuseEffect(() => {\n\t\tconst subscribers = entries.map(entry => {\n\t\t\treturn store.subscribe(id + entry.id, data => {\n\t\t\t\tsetTotal(calcTotal());\n\t\t\t});\n\t\t});\n\n\t\treturn () => {\n\t\t\tsubscribers.forEach(unSub => unSub());\n\t\t};\n\t});\n\n\tconst { t } = useTranslation();\n\n\treturn (\n\t\t<ExpansionPanel>\n\t\t\t<ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n\t\t\t\t<Typography className=\"category-group-title\">{title}</Typography>\n\t\t\t\t<Typography className=\"category-group-accumulated\">{(positive ? '' : '-' )+ t('currencySymbol')}{Math.round((total / appPeriod))}</Typography>\n\t\t\t</ExpansionPanelSummary>\n\n\t\t\t<ExpansionPanelDetails>\n\t\t\t\t{ entries.map(entry => <BudgetEntry id={id + entry.id} key={id + entry.id} />) }\n\t\t\t</ExpansionPanelDetails>\n\t\t</ExpansionPanel>\n\t);\n};\n\nCategoryGroup.propTypes = {\n\tid: PropTypes.string.isRequired,\n\ttitle: PropTypes.string.isRequired,\n\tentries: PropTypes.arrayOf(PropTypes.object).isRequired,\n\tpositive: PropTypes.bool,\n\tappPeriod: PropTypes.oneOf(Object.values(Periods)).isRequired,\n};\n\nCategoryGroup.defaultProps = {\n\tpositive: false,\n};\n\nexport default CategoryGroup;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Chart from 'chart.js';\nimport store from '../dataModel/dataStore';\nimport { withTranslation } from 'react-i18next';\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\nimport Periods from '../dataModel/periods';\n\nconst colours = [\n\t'rgba(255, 99, 132, 0.7)',\n\t'rgba(54, 162, 235, 0.7)',\n\t'rgba(255, 206, 86, 0.7)',\n\t'rgba(75, 192, 192, 0.7)',\n\t'rgba(153, 102, 255, 0.7)',\n\t'rgba(255, 159, 64, 0.7)',\n\t'rgba(54, 159, 64, 0.7)'\n];\n\nclass ResultsChart extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tbudget: this.props.budget,\n\t\t\tupdate: 0, // hack, quick way to get this object to re-render,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.unSubStore = store.subscribe(null, () => this.setState({ update: this.state.update + 1 }));\n\n\t\tconst outgoings = this.state.budget.filter(entry => entry.positive !== true);\n\t\tconst labels = outgoings.map(({ title }) => title);\n\n\t\tthis.canvas = document.getElementById('chartCanvas');\n\t\tChart.defaults.global.defaultFontFamily = \"'Roboto', 'Helvetica', 'Arial', sans-serif\";\n\t\tChart.defaults.global.defaultFontSize = 16;\n\t\tthis.chart = new Chart(this.canvas, {\n\t\t\ttype: 'pie',\n\t\t\tdata: {\n\t\t\t\tlabels: labels,\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\ttitle: {\n\t\t\t\t\tdisplay: true,\n\t\t\t\t\tposition: 'top'\n\t\t\t\t},\n\t\t\t\trotation: -0.7 * Math.PI, // looks a little better like this\n\t\t\t\tlegend: {\n\t\t\t\t\tposition: 'left',\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\n\t\tthis.updateCanvas();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unSubStore();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updateCanvas();\n\t}\n\n\tupdateCanvas() {\n\t\tconst incomings = this.state.budget.filter(entry => entry.positive === true);\n\t\tconst outgoings = this.state.budget.filter(entry => entry.positive !== true);\n\n\t\tlet totalIncome = incomings.map(({ entries }) => entries.reduce((sum, { amount, period }) => sum + (amount * period), 0));\n\t\ttotalIncome = totalIncome.reduce((a, b) => a + b);\n\n\t\tconst categoryTotals = outgoings.map(({ entries }) => entries.reduce((sum, { amount, period }) => sum + (amount * period), 0));\n\t\tconst totalOutgoing = categoryTotals.reduce((a, b) => a + b);\n\n\t\tthis.chart.data.datasets = [{\n\t\t\tdata: categoryTotals,\n\t\t\tbackgroundColor: outgoings.map((v, i) => colours[i % colours.length]),\n\t\t\tborderWidth: [1, 1]\n\t\t}];\n\n\t\tthis.chart.options.legend.display = isWidthUp('sm', this.props.width);\n\n\t\tlet balance = totalIncome - totalOutgoing;\n\t\tbalance /= this.props.period;\n\t\tbalance = Math.floor(balance);\n\t\tif (balance < 0) {\n\t\t\tthis.chart.options.title.text = this.props.t('negativeBalance', { balance });\n\t\t} else {\n\t\t\tthis.chart.options.title.text = this.props.t('positiveBalance', { balance });\n\t\t}\n\n\t\tthis.chart.update();\n\t}\n\n\trender() {\n\t\treturn <canvas id=\"chartCanvas\" width={900} height={450} />;\n\t}\n}\n\nResultsChart.propTypes = {\n\tbudget: PropTypes.array.isRequired,\n\tt: PropTypes.func.isRequired, // supplied via withTranslation below\n\twidth: PropTypes.string.isRequired, /// supplied with withWidth below, as a breakpoint string\n\tperiod: PropTypes.oneOf(Object.values(Periods)).isRequired,\n};\n\nexport default withTranslation()(withWidth()(ResultsChart));\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n\tAppBar,\n\tButton,\n\tExpansionPanel,\n\tExpansionPanelDetails,\n\tExpansionPanelSummary,\n\tHidden,\n\tToolbar,\n\tTypography,\n\tuseScrollTrigger,\n} from '@material-ui/core';\nimport { ExpandMore as ExpandMoreIcon } from '@material-ui/icons';\nimport { useTranslation } from 'react-i18next';\nimport store from '../dataModel/dataStore';\nimport PeriodSelector from './PeriodSelector';\nimport CategoryGroup from './CategoryGroup';\nimport ResultsChart from './ResultsChart';\nimport './App.css';\n\nconst Header = () => {\n\tconst { t } = useTranslation();\n\tconst [period, setPeriod] = useState(store.get('summary-period'));\n\tstore.subscribe('summary-period', (p) => setPeriod(p));\n\n\treturn (\n\t\t<>\n\t\t\t<Hidden smDown>\n\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>{t('app-title')}</Typography>\n\t\t\t</Hidden>\n\t\t\t<div className=\"header-text\">\n\t\t\t\t<Typography>{\n\t\t\t\t\tt('view-as')}&nbsp;\n\t\t\t\t\t<PeriodSelector period={period} onChange={newPeriod => store.set('summary-period', newPeriod)} />\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nfunction ElevationScroll(props) {\n\tconst { children } = props;\n\tconst trigger = useScrollTrigger({\n\t\tdisableHysteresis: true,\n\t\tthreshold: 0,\n\t});\n\n\treturn React.cloneElement(children, {\n\t\televation: trigger ? 4 : 0,\n\t});\n}\n\nElevationScroll.propTypes = {\n\tchildren: PropTypes.node.isRequired\n};\n\nconst TopAppBar = (props) => {\n\tconst { t } = useTranslation();\n\treturn (\n\t\t<>\n\t\t\t<ElevationScroll {...props}>\n\t\t\t\t<AppBar color=\"default\">\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\" color=\"inherit\">\n\t\t\t\t\t\t\t{t('budget-planner')}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t</ElevationScroll>\n\t\t\t<Toolbar />\n\t\t</>\n\t);\n};\n\nconst App = () => {\n\tconst { t } = useTranslation();\n\tconst [budget] = useState(store.get('budget'));\n\n\tconst [mainPeriod, setMainPeriod] = useState(store.get('summary-period'));\n\tstore.subscribe('summary-period', (p) => setMainPeriod(p));\n\n\tconst catElements = budget && budget.map(category =>\n\t\t<CategoryGroup\n\t\t\tid={category.id}\n\t\t\ttitle={category.title}\n\t\t\tentries={category.entries}\n\t\t\tpositive={category.positive}\n\t\t\tkey={category.id}\n\t\t\tappPeriod={mainPeriod}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<TopAppBar />\n\t\t\t<Header />\n\t\t\t{catElements}\n\n\t\t\t<ExpansionPanel defaultExpanded>\n\t\t\t\t<ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n\t\t\t\t\t<Typography >{t('summary')}</Typography>\n\t\t\t\t</ExpansionPanelSummary>\n\t\t\t\t<ExpansionPanelDetails>\n\t\t\t\t\t<div width={900} height={450} >\n\t\t\t\t\t\t<ResultsChart budget={budget} period={mainPeriod} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{t('reset-header')}&nbsp;\n\t\t\t\t\t\t<Button onClick={() => store.resetBudget()} variant=\"contained\">\n\t\t\t\t\t\t\t{t('reset')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</p>\n\t\t\t\t</ExpansionPanelDetails>\n\t\t\t</ExpansionPanel>\n\t\t</>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ThemeProvider from '@material-ui/styles/ThemeProvider';\nimport { createMuiTheme  } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport './framework/i18n';\nimport muiTheme from './framework/muiTheme';\nimport './dataModel/dataProvider';\nimport App from './components/App';\n\nconst appWrapper =\n\t<ThemeProvider theme={createMuiTheme(muiTheme)}>\n\t\t<CssBaseline />\n\t\t<React.Suspense fallback={<h1>loading...</h1>}>\n\t\t\t<App />\n\t\t</React.Suspense>\n\t</ThemeProvider>;\n\nReactDOM.render(appWrapper, document.getElementById('root'));\n"],"sourceRoot":""}