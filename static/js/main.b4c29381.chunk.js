(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),o=n.n(r),s=n(162),u=n(77),c=n(172),d=n(39),l=n(25),p=n(72),m=n(73),f=n.n(m);d.a.use(p.a).use(f.a).use(l.a).init({whitelist:["en-US","en"],nonExplicitWhitelist:!0,fallbackLng:["en"],backend:{loadPath:"resources/locale/{{lng}}/{{ns}}.json"},debug:!1,interpolation:{escapeValue:!1}});d.a;var h={overrides:{MuiInput:{underline:{"&:before":{borderBottom:"none"},"&:after":{borderBottom:"none"}}},MuiMenuItem:{root:{minHeight:"24px"}},MuiExpansionPanelDetails:{root:{display:"unset"}}}},b=n(43),y=n(44),g=n(74),v=n.n(g),E=new(function(){function e(){Object(b.a)(this,e),this._data={},this._listeners=new Map}return Object(y.a)(e,[{key:"notify",value:function(e,t){this._listeners.forEach(function(n){n.type||n.handler(e,t)})}},{key:"notifyEvent",value:function(e,t){this._listeners.forEach(function(n){n.type===e&&n.handler(t)}),this.notify(e,t)}},{key:"subscribe",value:function(e,t){if(console.assert("function"===typeof t),"function"===typeof t){var n=v()();this._listeners.set(n,{handler:t,type:e});var a=this;return function(){a.unSubscribe(n)}}}},{key:"unSubscribe",value:function(e){this._listeners.delete(e)}},{key:"get",value:function(e){return e?this._data[e]:this._data}},{key:"set",value:function(e,t){this._data[e]=t,this.notifyEvent(e,t)}},{key:"resetBudget",value:function(){for(var e in this._data)if("budget"!==e){var t=this.get(e);t.amount=0,this.set(e,t)}}}]),e}()),O=n(80),k=Object.freeze({daily:365,weekly:52,fortnightly:26,monthly:12,quarterly:4,annually:1}),C=[{id:"Income",positive:!0,entries:[{id:"Your take - home pay"},{id:"Your partner's take-home pay"},{id:"Bonuses & overtime"},{id:"Income from savings & investments"},{id:"Centrelink benefits"},{id:"Family benefit payments"},{id:"Child support received"},{id:"Other"}]},{id:"Home & utilities",entries:[{id:"Mortgage & rent"},{id:"Body corporate fees"},{id:"Council rates"},{id:"Furniture & appliances"},{id:"Renovations & maintenance"},{id:"Electricity"},{id:"Gas"},{id:"Water"},{id:"Internet"},{id:"Pay TV"},{id:"Home phone"},{id:"Mobile"},{id:"Other"}]},{id:"Insurance & financial",entries:[{id:"Car insurance"},{id:"Home & contents insurance"},{id:"Personal & life insurance"},{id:"Health insurance"},{id:"Car loan"},{id:"Credit card interest"},{id:"Other loans"},{id:"Paying off debt"},{id:"Savings"},{id:"Investments & super contributions"},{id:"Charity donations"},{id:"Other"}]},{id:"Groceries",entries:[{id:"Supermarket"},{id:"Butcher"},{id:"Fruit & veg market"},{id:"Fish shop"},{id:"Deli & bakery"},{id:"Pet food"},{id:"Other"}]},{id:"Personal & medical",entries:[{id:"Cosmetics & toiletries"},{id:"Hair & beauty"},{id:"Medicines & pharmacy"},{id:"Glasses & eye care"},{id:"Dental"},{id:"Doctors & medical"},{id:"Hobbies"},{id:"Clothing & shoes"},{id:"Jewellery & accessories"},{id:"Computers & gadgets"},{id:"Sports & gym"},{id:"Education"},{id:"Pet care & vet"},{id:"Other"}]},{id:"Entertainment & eat - out",entries:[{id:"Coffee & tea"},{id:"Lunches - bought"},{id:"Take - away & snacks"},{id:"Cigarettes"},{id:"Drinks & alcohol"},{id:"Bars & clubs"},{id:"Restaurants"},{id:"Books"},{id:"Newspaper & magazines"},{id:"Movies & music"},{id:"Holidays"},{id:"Celebrations & gifts"},{id:"Other"}]},{id:"Transport & auto",entries:[{id:"Bus & train & ferry"},{id:"Petrol"},{id:"Road tolls & parking"},{id:"Rego & licence"},{id:"Repairs & maintenance"},{id:"Fines"},{id:"Airfares"},{id:"Other"}]},{id:"Children",entries:[{id:"Baby products"},{id:"Toys"},{id:"Babysitting"},{id:"Childcare"},{id:"Sports & activities"},{id:"School fees"},{id:"Excursions"},{id:"School uniforms"},{id:"Other school needs"},{id:"Child support payment"},{id:"Other"}]}];C.forEach(function(e){e.entries=e.entries.map(function(e){return Object(O.a)({},e,{amount:0,period:k.monthly})})}),d.a.on("initialized",function(){C.forEach(function(e){e.title=d.a.t(e.id),e.entries.map(function(t){var n=t.id;E.get(e.id+n).title=d.a.t(n)})})});var j=C;E.set("budget",j),j.forEach(function(e){e.entries.forEach(function(t){var n=e.id+t.id,a=window.localStorage.getItem(n);a&&(a=JSON.parse(a),t.amount=a.amount,t.period=a.period),E.set(n,t),E.subscribe(n,function(e){return window.localStorage.setItem(n,JSON.stringify(e))})})});var S=window.localStorage.getItem("summary-period")||k.annually;S=parseInt(S,10),E.set("summary-period",S),E.subscribe("summary-period",function(e){return window.localStorage.setItem("summary-period",e)});var w=n(31),B=n(159),I=n(161),P=n(163),M=n(168),N=function(e){var t=e.period,n=e.onChange,a=e.className,r=Object(l.b)().t;return i.a.createElement(P.a,{className:a,value:t,onChange:function(e){return n(e.target.value)}},i.a.createElement(M.a,{value:k.daily},r("period.daily")),i.a.createElement(M.a,{value:k.weekly},r("period.weekly")),i.a.createElement(M.a,{value:k.fortnightly},r("period.fortnightly")),i.a.createElement(M.a,{value:k.monthly},r("period.monthly")),i.a.createElement(M.a,{value:k.quarterly},r("period.quarterly")),i.a.createElement(M.a,{value:k.annually},r("period.annually")))};N.defaultProps={onChange:function(){}};var x=N,_=n(171),F=n(170),H=n(160),D=n(169),R=(n(112),n(157)),J=n(158),z=n(165),T=(n(113),function(e){var t=e.id,n=E.get(t),r=Object(a.useState)(n.amount),o=Object(w.a)(r,2),s=o[0],u=o[1],c=Object(a.useState)(n.period),d=Object(w.a)(c,2),l=d[0],p=d[1];Object(a.useEffect)(function(){return E.subscribe(t,function(e){return u(e.amount)})});return i.a.createElement(R.a,null,i.a.createElement("div",{className:"budget-entry-container"},i.a.createElement(J.a,{container:!0,spacing:4},i.a.createElement(J.a,{item:!0,xs:12,md:6},n.title),i.a.createElement(J.a,{item:!0,xs:6,md:3},i.a.createElement("div",{className:"budget-entry-input"},i.a.createElement(z.a,{className:"budget-entry-entry",value:s,onChange:function(e){var a=e.target.value;void 0===(a=parseInt(a.toString(),10))||isNaN(a)||(u(a),n.amount=a,E.set(t,n))}}))),i.a.createElement(J.a,{item:!0,xs:6,md:3},i.a.createElement(x,{className:"budget-entry-period budget-entry-input",period:l,onChange:function(e){p(e),n.period=e,E.set(t,n)}})))))}),W=function(e){var t=e.id,n=e.title,r=e.entries,o=e.positive,s=e.appPeriod,u=function(){var e=r.map(function(e){return e.amount*e.period});return e=e.reduce(function(e,t){return e+t})},c=Object(a.useState)(u()),d=Object(w.a)(c,2),p=d[0],m=d[1];Object(a.useEffect)(function(){var e=r.map(function(e){return E.subscribe(t+e.id,function(e){m(u())})});return function(){e.forEach(function(e){return e()})}});var f=Object(l.b)().t;return i.a.createElement(_.a,null,i.a.createElement(F.a,{expandIcon:i.a.createElement(D.a,null)},i.a.createElement(B.a,{className:"category-group-title"},n),i.a.createElement(B.a,{className:"category-group-accumulated"},(o?"":"-")+f("currencySymbol"),Math.round(p/s))),i.a.createElement(H.a,null,r.map(function(e){return i.a.createElement(T,{id:t+e.id,key:t+e.id})})))};W.defaultProps={positive:!1};var q=W,G=n(78),U=n(76),A=n(79),L=n(56),V=n.n(L),Y=n(166),K=["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)","rgba(54, 159, 64, 0.7)"],Q=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(G.a)(this,Object(U.a)(t).call(this,e))).state={budget:n.props.budget,update:0},n}return Object(A.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unSubStore=E.subscribe(null,function(){return e.setState({update:e.state.update+1})});var t=this.state.budget.filter(function(e){return!0!==e.positive}).map(function(e){return e.title});this.canvas=document.getElementById("chartCanvas"),V.a.defaults.global.defaultFontFamily="'Roboto', 'Helvetica', 'Arial', sans-serif",V.a.defaults.global.defaultFontSize=16,this.chart=new V.a(this.canvas,{type:"pie",data:{labels:t},options:{title:{display:!0,position:"top"},rotation:-.7*Math.PI,legend:{position:"left"}}}),this.updateCanvas()}},{key:"componentWillUnmount",value:function(){this.unSubStore()}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"updateCanvas",value:function(){var e=this.state.budget.filter(function(e){return!0===e.positive}),t=this.state.budget.filter(function(e){return!0!==e.positive}),n=e.map(function(e){return e.entries.reduce(function(e,t){return e+t.amount*t.period},0)});n=n.reduce(function(e,t){return e+t});var a=t.map(function(e){return e.entries.reduce(function(e,t){return e+t.amount*t.period},0)}),i=a.reduce(function(e,t){return e+t});this.chart.data.datasets=[{data:a,backgroundColor:t.map(function(e,t){return K[t%K.length]}),borderWidth:[1,1]}],this.chart.options.legend.display=Object(Y.b)("sm",this.props.width);var r=n-i;r/=this.props.period,r=Math.floor(r),this.chart.options.title.text=r<0?this.props.t("negativeBalance",{balance:r}):this.props.t("positiveBalance",{balance:r}),this.chart.update()}},{key:"render",value:function(){return i.a.createElement("canvas",{id:"chartCanvas",width:900,height:450})}}]),t}(i.a.Component),X=Object(l.c)()(Object(Y.a)()(Q)),Z=function(){var e=Object(a.useState)(E.get("budget")),t=Object(w.a)(e,1)[0],n=Object(a.useState)(E.get("summary-period")),r=Object(w.a)(n,2),o=r[0],s=r[1],u=Object(l.b)().t,c=t&&t.map(function(e){return i.a.createElement(q,{id:e.id,title:e.title,entries:e.entries,positive:e.positive,key:e.id,appPeriod:o})});return i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{variant:"h5",gutterBottom:!0},u("dev.todo")),i.a.createElement(x,{period:o,onChange:function(e){s(e),E.set("summary-period",e)}}),i.a.createElement(I.a,{onClick:function(){return E.resetBudget()}},u("reset")),c,i.a.createElement(X,{budget:t,period:o}))},$=i.a.createElement(s.a,{theme:Object(u.a)(h)},i.a.createElement(c.a,null),i.a.createElement(i.a.Suspense,{fallback:i.a.createElement("h1",null,"loading...")},i.a.createElement(Z,null)));o.a.render($,document.getElementById("root"))},83:function(e,t,n){e.exports=n(116)}},[[83,1,2]]]);
//# sourceMappingURL=main.b4c29381.chunk.js.map